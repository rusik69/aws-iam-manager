# Certificate resource for explicit SSL certificate management
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: cloud-manager-cert
  namespace: cloud-manager
  labels:
    app.kubernetes.io/name: cloud-manager
    app.kubernetes.io/component: certificate
spec:
  # Secret name where the certificate will be stored
  secretName: cloud-manager-tls
  # Certificate issuer reference
  issuerRef:
    name: letsencrypt-prod
    kind: ClusterIssuer
  # List of DNS names for the certificate
  dnsNames:
  - DOMAIN_PLACEHOLDER
  # Note: Domain will be replaced by HOST variable during deployment

  # Certificate renewal settings
  duration: 2160h # 90 days
  renewBefore: 360h # 15 days before expiry

  # Key settings
  privateKey:
    algorithm: RSA
    size: 2048

  # Certificate usage
  usages:
  - digital signature
  - key encipherment